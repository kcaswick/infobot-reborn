{"id":"bd-14e","title":"Quality loops for bd-bl0: Add legacy import quality observability tests  ","description":"Run post-completion quality loops for this bead:\n- self-review\n- cross-review\n- random exploration\n\nAcceptance:\n- Findings (if any) recorded with severity + file:line\n- Fixes applied or rationale documented\n- Reviewer/controller sign-off captured in close reason","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:18:59.948548354Z","created_by":"ubuntu","updated_at":"2026-02-11T18:25:25.996690216Z","closed_at":"2026-02-11T18:25:25.996665270Z","close_reason":"Self/cross/random review of legacy import tests/logger/threshold paths; no findings","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-14e","depends_on_id":"bd-bl0","type":"blocks","created_at":"2026-02-11T18:18:59.981250354Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-18i","title":"LLM service abstraction","description":"Create LLM service using the openai Python SDK pointed at a configurable base URL. Support chat completions with system/user messages. Handle retries, timeouts, and errors gracefully. Works with vLLM (production), ollama (local dev), or any OpenAI-compatible endpoint.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T05:38:58.391690207Z","created_by":"ubuntu","updated_at":"2026-02-06T06:46:48.410391559Z","closed_at":"2026-02-06T06:46:48.410348354Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-18i","depends_on_id":"bd-25b","type":"blocks","created_at":"2026-02-06T05:39:39.717807783Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-18i","depends_on_id":"bd-28c","type":"blocks","created_at":"2026-02-06T05:39:39.691662249Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-19j","title":"Add quality telemetry model and sampling helpers","description":"Extend ImportStats in src/infobot/tools/legacy_import.py with quality counters, 10-bucket distribution tracking, percentile fields, and accepted/rejected sample reservoirs. Add QualitySample dataclass and helper functions for bucket assignment, aggregate updates, reservoir sampling, percentile computation, histogram formatting, and threshold guidance scaffolding. Include config support for LEGACY_IMPORT_SAMPLE_CAP and LEGACY_IMPORT_RNG_SEED.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T01:08:54.709180633Z","created_by":"ubuntu","updated_at":"2026-02-11T16:50:13.635370695Z","closed_at":"2026-02-11T16:50:13.635322361Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-1cg","title":"Response formatter","description":"Phase 1 core: Format bot responses. Handle <reply> tag (respond with just the value), <action> tag (action formatting), pipe-separated random selection (A|B|C), variable substitution ($who → username, $date → current datetime).","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-06T05:39:13.581843347Z","created_by":"ubuntu","updated_at":"2026-02-06T06:44:47.451267718Z","closed_at":"2026-02-06T06:44:47.451241798Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1cg","depends_on_id":"bd-28c","type":"blocks","created_at":"2026-02-06T05:39:39.815484267Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-1ih","title":"PR #1 Review Round 1","description":"Parent epic for all Phase 1 PR review feedback. Tracks fixes from Gemini Code Assist, Copilot, and owner (kcaswick) reviews.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-10T17:41:35.699524571Z","created_by":"ubuntu","updated_at":"2026-02-11T00:15:44.275060118Z","closed_at":"2026-02-11T00:15:44.275036928Z","close_reason":"Completed: all review fixes merged","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1ih","depends_on_id":"bd-25y","type":"blocks","created_at":"2026-02-10T17:42:27.257497317Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1ih","depends_on_id":"bd-2ar","type":"blocks","created_at":"2026-02-10T17:42:27.387367540Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1ih","depends_on_id":"bd-33m","type":"blocks","created_at":"2026-02-10T17:42:27.231698124Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1ih","depends_on_id":"bd-3ee","type":"blocks","created_at":"2026-02-10T17:42:27.283260215Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1ih","depends_on_id":"bd-3lu","type":"blocks","created_at":"2026-02-10T17:42:27.360195717Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1ih","depends_on_id":"bd-faa","type":"blocks","created_at":"2026-02-10T17:42:27.308773870Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1ih","depends_on_id":"bd-ut0","type":"blocks","created_at":"2026-02-10T17:42:27.334452591Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-1ih","depends_on_id":"bd-zlm","type":"blocks","created_at":"2026-02-10T17:42:27.206721830Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-1o7","title":"Discord bot integration","description":"Create Discord bot using discord.py. Connect to Discord, listen for messages and slash commands, pass them to the message handler, send responses back. Handle bot mentions, DMs, and channel messages appropriately. Respect guild/channel context.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-06T05:39:17.603242598Z","created_by":"ubuntu","updated_at":"2026-02-07T00:10:36.219751947Z","closed_at":"2026-02-07T00:10:36.219722528Z","close_reason":"Completed: Discord bot implementation","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1o7","depends_on_id":"bd-gca","type":"blocks","created_at":"2026-02-06T05:39:39.972212775Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-1s7","title":"Quality loops for bd-bjm: Instrument import loop with periodic quality diagnostics  ","description":"Run post-completion quality loops for this bead:\n- self-review\n- cross-review\n- random exploration\n\nAcceptance:\n- Findings (if any) recorded with severity + file:line\n- Fixes applied or rationale documented\n- Reviewer/controller sign-off captured in close reason","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:19:00.211920433Z","created_by":"ubuntu","updated_at":"2026-02-11T18:25:55.668078891Z","closed_at":"2026-02-11T18:25:55.668055692Z","close_reason":"Quality loops complete; no findings.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1s7","depends_on_id":"bd-bjm","type":"blocks","created_at":"2026-02-11T18:19:00.241621075Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-25b","title":"Configuration system","description":"Create a config module that loads settings from environment variables with sensible defaults. Use a dataclass + python-dotenv (no pydantic). Settings: LLM base URL, model name, Discord bot token, database path, log level. Support .env files for local dev.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T05:38:53.432185658Z","created_by":"ubuntu","updated_at":"2026-02-06T06:16:48.436702128Z","closed_at":"2026-02-06T06:16:48.436657658Z","close_reason":"Config module implemented and tested","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-25b","depends_on_id":"bd-28c","type":"blocks","created_at":"2026-02-06T05:39:39.617276683Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-25y","title":"Fix question parser to handle are/was/were copulas","description":"The wh_is regex rule in src/infobot/nlu/question_parser.py only optionally strips 'is' after question words. 'What are dogs?' produces key='are dogs' instead of key='dogs'. Fix: extend the optional copula match to include are/was/were. Must also update tests. PR comment: Copilot line 25 of question_parser.py.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-10T17:41:56.318442546Z","created_by":"ubuntu","updated_at":"2026-02-10T18:25:52.876732843Z","closed_at":"2026-02-10T18:25:52.876702627Z","close_reason":"Extended copula match to include are/was/were; added tests for all copulas","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-28c","title":"Project structure and package layout","description":"Set up the Python package structure: src/infobot/ with subpackages for db, kb, nlu, formatter, services. Create __init__.py files, update pyproject.toml with runtime dependencies (openai, discord.py, aiosqlite). Establish the skeleton that all other work builds on.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T05:38:48.461185518Z","created_by":"ubuntu","updated_at":"2026-02-06T06:12:07.544374270Z","closed_at":"2026-02-06T06:12:07.544345817Z","close_reason":"Package structure created, deps installed, imports verified","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-29m","title":"Quality loops for bd-3kb: Aggregate cross-file quality stats and enhance final summary  ","description":"Run post-completion quality loops for this bead:\n- self-review\n- cross-review\n- random exploration\n\nAcceptance:\n- Findings (if any) recorded with severity + file:line\n- Fixes applied or rationale documented\n- Reviewer/controller sign-off captured in close reason","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:19:00.083172206Z","created_by":"ubuntu","updated_at":"2026-02-11T18:25:38.242727982Z","closed_at":"2026-02-11T18:25:38.242704127Z","close_reason":"Quality loop complete: self-review + cross-review + random exploration of cross-file summary/percentiles/sampling/guidance paths; no findings","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-29m","depends_on_id":"bd-3kb","type":"blocks","created_at":"2026-02-11T18:19:00.110413978Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2ar","title":"Change API key fallback from 'ollama' to 'not-needed'","description":"In src/infobot/services/llm_service.py line 66, the default API key is 'ollama' which is unconventional and confusing. Change to 'not-needed' for clarity. PR comment: Gemini line 66 of llm_service.py.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-10T17:42:22.916037349Z","created_by":"ubuntu","updated_at":"2026-02-10T18:26:13.153242765Z","closed_at":"2026-02-10T18:26:13.153216190Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2bo","title":"Quality loops for bd-33b: Document quality telemetry behavior in legacy import docs  ","description":"Run post-completion quality loops for this bead:\n- self-review\n- cross-review\n- random exploration\n\nAcceptance:\n- Findings (if any) recorded with severity + file:line\n- Fixes applied or rationale documented\n- Reviewer/controller sign-off captured in close reason","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:19:00.626814883Z","created_by":"ubuntu","updated_at":"2026-02-11T18:25:59.534078784Z","closed_at":"2026-02-11T18:25:59.534053747Z","close_reason":"Quality loops complete; finding docs/legacy_import.md:75-86 (summary output overstates telemetry). Follow-up bd-2yq created.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2bo","depends_on_id":"bd-33b","type":"blocks","created_at":"2026-02-11T18:19:00.652668769Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2bt","title":"Legacy factoid import tool","description":"Phase 1: CLI tool to import legacy Infobot factoid files (botname-is.txt, botname-are.txt). Parse 'topic => information' format, clean IRC formatting, apply quality heuristics, import to SQLite knowledge base. Per docs/legacy_import.md spec.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-06T05:39:25.806474139Z","created_by":"ubuntu","updated_at":"2026-02-10T17:50:38.509951444Z","closed_at":"2026-02-10T17:50:38.509899321Z","close_reason":"Already completed in Phase 1 (commit c542832). Incorrectly reopened by background session.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2bt","depends_on_id":"bd-6lc","type":"blocks","created_at":"2026-02-06T05:39:40.048066651Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2im","title":"Quality loops for bd-2qj: Isolate legacy import logging and validate threshold input  ","description":"Run post-completion quality loops for this bead:\n- self-review\n- cross-review\n- random exploration\n\nAcceptance:\n- Findings (if any) recorded with severity + file:line\n- Fixes applied or rationale documented\n- Reviewer/controller sign-off captured in close reason","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:19:00.496780418Z","created_by":"ubuntu","updated_at":"2026-02-11T18:25:30.256800728Z","closed_at":"2026-02-11T18:25:30.256764539Z","close_reason":"Self/cross/random review of legacy import logger/threshold paths; no findings","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2im","depends_on_id":"bd-2qj","type":"blocks","created_at":"2026-02-11T18:19:00.524683142Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2qj","title":"Isolate legacy import logging and validate threshold input","description":"In src/infobot/tools/legacy_import.py, replace root logging.basicConfig usage with module-specific logger setup that is idempotent and avoids dependency debug log pollution. Add input validation for --quality-threshold in [0.0,1.0] and clear fatal failure semantics for invalid configuration. Must not change import heuristics.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T01:08:51.055111483Z","created_by":"ubuntu","updated_at":"2026-02-11T01:12:06.846019567Z","closed_at":"2026-02-11T01:12:06.845977697Z","close_reason":"Completed: isolated legacy import logger and added threshold validation/tests","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2us","title":"Modal deployment skeleton","description":"Create modal.py with: Modal app definition, vLLM model serving on T4 GPU, Volume for SQLite persistence, Discord bot as a long-running Modal function. Support modal serve for dev and modal deploy for production. Keep warm configuration.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T05:39:22.969780997Z","created_by":"ubuntu","updated_at":"2026-02-07T00:10:36.245067391Z","closed_at":"2026-02-07T00:10:36.245043375Z","close_reason":"Completed: Modal deployment skeleton","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2us","depends_on_id":"bd-18i","type":"blocks","created_at":"2026-02-06T05:39:39.997558683Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2us","depends_on_id":"bd-1o7","type":"blocks","created_at":"2026-02-06T05:39:40.023184076Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2vx","title":"Legacy import quality score observability","description":"Implement planning-approved observability upgrades for legacy import quality scoring: isolate verbose logging, add score distribution telemetry with representative accepted/rejected sampling, periodic diagnostics for mid-run threshold tuning, and enhanced final quality summary. Planning artifact: docs/plans/legacy-import-quality-observability-plan.md","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-11T01:08:47.403817299Z","created_by":"ubuntu","updated_at":"2026-02-11T18:19:00.677197640Z","closed_at":"2026-02-11T17:59:50.142473893Z","close_reason":"Completed: all dependent implementation/docs/test beads closed","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2vx","depends_on_id":"bd-14e","type":"blocks","created_at":"2026-02-11T18:19:00.010106732Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-19j","type":"blocks","created_at":"2026-02-11T01:09:19.899633739Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-1s7","type":"blocks","created_at":"2026-02-11T18:19:00.274574615Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-29m","type":"blocks","created_at":"2026-02-11T18:19:00.136171554Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-2bo","type":"blocks","created_at":"2026-02-11T18:19:00.677157807Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-2im","type":"blocks","created_at":"2026-02-11T18:19:00.551359297Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-2qj","type":"blocks","created_at":"2026-02-11T01:09:19.872198849Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-33b","type":"blocks","created_at":"2026-02-11T01:09:20.006348675Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-3g4","type":"blocks","created_at":"2026-02-11T18:19:00.413088479Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-3kb","type":"blocks","created_at":"2026-02-11T01:09:19.955564647Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-bjm","type":"blocks","created_at":"2026-02-11T01:09:19.928114744Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-2vx","depends_on_id":"bd-bl0","type":"blocks","created_at":"2026-02-11T01:09:19.981453176Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-2yq","title":"Align legacy import summary output with telemetry docs","description":"docs/legacy_import.md documents detailed telemetry in final CLI summary, but src/infobot/tools/legacy_import.py main() only prints core counts. Decide whether to extend summary output to include telemetry/guidance or revise docs to match current behavior.","status":"open","priority":2,"issue_type":"docs","created_at":"2026-02-11T18:25:49.680875365Z","created_by":"ubuntu","updated_at":"2026-02-11T18:25:49.680875365Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-33b","title":"Document quality telemetry behavior in legacy import docs","description":"Update docs/legacy_import.md to document periodic quality diagnostics, sample previews during import, 10-bucket distribution and percentile interpretation, threshold guidance semantics, and environment variables LEGACY_IMPORT_SAMPLE_CAP and LEGACY_IMPORT_RNG_SEED.","status":"closed","priority":2,"issue_type":"docs","created_at":"2026-02-11T01:09:11.776440728Z","created_by":"ubuntu","updated_at":"2026-02-11T17:26:25.273746764Z","closed_at":"2026-02-11T17:26:25.273721099Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-33b","depends_on_id":"bd-3kb","type":"blocks","created_at":"2026-02-11T01:09:20.215677997Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-33m","title":"Remove unused src/infobot/llm.py (duplicate of services/llm_service.py)","description":"Both Gemini and Copilot flagged src/infobot/llm.py as unused. Verified: nothing in the codebase imports from infobot.llm. The canonical implementation is src/infobot/services/llm_service.py which has retry logic and typed data structures. Remove the dead file. PR comments: Gemini line 101 of llm.py; Copilot line 33 of llm.py.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T17:41:51.113754758Z","created_by":"ubuntu","updated_at":"2026-02-10T18:25:30.221169499Z","closed_at":"2026-02-10T18:25:30.221141430Z","close_reason":"Deleted unused src/infobot/llm.py - no imports found in codebase","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3ee","title":"Use config.log_level instead of hard-coded INFO in main.py","description":"src/main.py hard-codes logging.INFO at line 11, ignoring Config.log_level. Fix: load Config first, then configure logging with config.log_level. PR comment: Copilot line 13 of main.py.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-10T17:42:01.134274109Z","created_by":"ubuntu","updated_at":"2026-02-10T18:26:09.819853112Z","closed_at":"2026-02-10T18:26:09.819828554Z","close_reason":"Moved logging.basicConfig into main() to use config.log_level instead of hard-coded INFO","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3g4","title":"Quality loops for bd-19j: Add quality telemetry model and sampling helpers  ","description":"Run post-completion quality loops for this bead:\n- self-review\n- cross-review\n- random exploration\n\nAcceptance:\n- Findings (if any) recorded with severity + file:line\n- Fixes applied or rationale documented\n- Reviewer/controller sign-off captured in close reason","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:19:00.360364068Z","created_by":"ubuntu","updated_at":"2026-02-11T18:25:38.265636610Z","closed_at":"2026-02-11T18:25:38.265614585Z","close_reason":"Quality loop complete: self-review + cross-review + random exploration of telemetry helpers/percentiles/sampling/guidance paths; no findings","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3g4","depends_on_id":"bd-19j","type":"blocks","created_at":"2026-02-11T18:19:00.386312089Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3kb","title":"Aggregate cross-file quality stats and enhance final summary","description":"Use one shared ImportStats instance across IS/ARE imports so telemetry is globally representative. Upgrade final CLI summary with percentiles (p50/p75/p90/p95), full 10-bucket counts/percentages, histogram rendering, accepted/rejected sample sections, and threshold guidance with low-confidence guardrails for small sample sizes.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T01:09:05.030906551Z","created_by":"ubuntu","updated_at":"2026-02-11T17:24:16.707809526Z","closed_at":"2026-02-11T17:24:16.707781696Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3kb","depends_on_id":"bd-bjm","type":"blocks","created_at":"2026-02-11T01:09:20.083758414Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-3lu","title":"Fix __main__.py Usage docstring (wrong entrypoint)","description":"src/infobot/tools/__main__.py Usage says 'python -m infobot.tools.legacy_import' but since this IS __main__.py, the correct invocation is 'python -m infobot.tools'. Fix the docstring. PR comment: Copilot line 6 of __main__.py.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-10T17:42:18.353954288Z","created_by":"ubuntu","updated_at":"2026-02-10T18:25:54.278585546Z","closed_at":"2026-02-10T18:25:54.278557487Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-6lc","title":"Factoid data model and storage","description":"Phase 1 core: Implement factoid CRUD operations. Factoids have a key, value, type (is/are), support for special tags (<reply>, <action>), pipe-separated random responses, and variable substitution ($who, $date). Store and retrieve from SQLite.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-06T05:39:04.091764143Z","created_by":"ubuntu","updated_at":"2026-02-06T20:52:05.717007489Z","closed_at":"2026-02-06T20:52:05.716969088Z","close_reason":"Verified complete: data model, CRUD store, SQLite schema, 34 tests passing","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-6lc","depends_on_id":"bd-vfs","type":"blocks","created_at":"2026-02-06T05:39:39.742277136Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-bjm","title":"Instrument import loop with periodic quality diagnostics","description":"In import_factoid_file, record score telemetry for every parsed candidate, capture accepted/rejected samples, and emit periodic diagnostics on parsed/time cadence (monotonic clock). Ensure diagnostics include reject rate, min/avg/max, compact 10-bucket histogram, and accepted/rejected sample previews to support mid-run abort/re-tune decisions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T01:08:59.850347371Z","created_by":"ubuntu","updated_at":"2026-02-11T17:19:15.884536246Z","closed_at":"2026-02-11T17:19:15.884507846Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-bjm","depends_on_id":"bd-19j","type":"blocks","created_at":"2026-02-11T01:09:20.056660091Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-bjm","depends_on_id":"bd-2qj","type":"blocks","created_at":"2026-02-11T01:09:20.031365672Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-bl0","title":"Add legacy import quality observability tests","description":"Expand tests/test_legacy_import.py for bucket boundaries, aggregate math, percentile computation, deterministic sampling via seeded RNG, periodic logging content, time-based cadence fallback, cross-file stats aggregation, threshold guidance guardrails, and logger idempotency/root isolation. Include invalid threshold validation tests.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T01:09:08.418131157Z","created_by":"ubuntu","updated_at":"2026-02-11T17:25:51.823024884Z","closed_at":"2026-02-11T17:25:51.823000598Z","close_reason":"Added coverage for diagnostics logging and aggregate sums","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-bl0","depends_on_id":"bd-19j","type":"blocks","created_at":"2026-02-11T01:09:20.137766916Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-bl0","depends_on_id":"bd-2qj","type":"blocks","created_at":"2026-02-11T01:09:20.110569043Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-bl0","depends_on_id":"bd-3kb","type":"blocks","created_at":"2026-02-11T01:09:20.190045643Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-bl0","depends_on_id":"bd-bjm","type":"blocks","created_at":"2026-02-11T01:09:20.164710065Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-faa","title":"Add FactoidExistsError custom exception for duplicate detection","description":"In src/infobot/tools/legacy_import.py line 225, duplicate factoid detection uses fragile string matching: 'if \"already exists\" in str(e)'. Fix: (1) define FactoidExistsError(ValueError) in infobot.kb.store, (2) raise it from FactoidStore.create, (3) catch it specifically in legacy_import.py. PR comment: Gemini line 225 of legacy_import.py.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-10T17:42:07.612026057Z","created_by":"ubuntu","updated_at":"2026-02-10T18:26:43.443259435Z","closed_at":"2026-02-10T18:26:43.443233354Z","close_reason":"Added FactoidExistsError custom exception; updated store.create to raise it; updated legacy_import.py to catch it specifically","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-gca","title":"Message handler (orchestrator)","description":"Phase 1 core: The main message processing pipeline. Receives a message, runs it through NLU (question parser + intent detector), queries/updates knowledge base, formats response, optionally enhances via LLM. Returns the response to send back to the chat platform.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-06T05:39:16.162027179Z","created_by":"ubuntu","updated_at":"2026-02-07T00:08:36.676486377Z","closed_at":"2026-02-07T00:08:36.676456393Z","close_reason":"Completed: message handler orchestrator implemented","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-gca","depends_on_id":"bd-18i","type":"blocks","created_at":"2026-02-06T05:39:39.944700262Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-gca","depends_on_id":"bd-1cg","type":"blocks","created_at":"2026-02-06T05:39:39.919231866Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-gca","depends_on_id":"bd-6lc","type":"blocks","created_at":"2026-02-06T05:39:39.841750291Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-gca","depends_on_id":"bd-qrv","type":"blocks","created_at":"2026-02-06T05:39:39.869311086Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-gca","depends_on_id":"bd-u88","type":"blocks","created_at":"2026-02-06T05:39:39.894655776Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-jbs","title":"Quality loops completion for bd-2vx","description":"Umbrella epic to track completion of all post-bead quality-loop tasks for bd-2vx.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-11T18:23:32.888485719Z","created_by":"ubuntu","updated_at":"2026-02-11T18:38:04.782219598Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-jbs","depends_on_id":"bd-14e","type":"blocks","created_at":"2026-02-11T18:23:38.885311668Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-jbs","depends_on_id":"bd-1s7","type":"blocks","created_at":"2026-02-11T18:23:38.941502804Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-jbs","depends_on_id":"bd-29m","type":"blocks","created_at":"2026-02-11T18:23:38.913313032Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-jbs","depends_on_id":"bd-2bo","type":"blocks","created_at":"2026-02-11T18:23:39.023763039Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-jbs","depends_on_id":"bd-2im","type":"blocks","created_at":"2026-02-11T18:23:38.996355447Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-jbs","depends_on_id":"bd-2yq","type":"blocks","created_at":"2026-02-11T18:38:04.782156569Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-jbs","depends_on_id":"bd-3g4","type":"blocks","created_at":"2026-02-11T18:23:38.969176402Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-qrv","title":"Question parser (NLU)","description":"Phase 1 core: Parse incoming messages to detect question intent. Handle formats: 'What is X?', 'Where is X?', 'Who is X?', 'X?', 'tell me about X'. Extract the factoid key being queried. Return structured intent objects.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-06T05:39:06.445401181Z","created_by":"ubuntu","updated_at":"2026-02-06T06:31:24.787214764Z","closed_at":"2026-02-06T06:31:24.787183573Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-qrv","depends_on_id":"bd-28c","type":"blocks","created_at":"2026-02-06T05:39:39.766342015Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-u88","title":"Factoid creation intent detector","description":"Phase 1 core: Detect when a user is stating a fact ('X is Y', 'X are Y'). Distinguish from questions and commands. Handle edge cases like 'no, X is Y' (replace) and 'X is also Y' (append). Return structured intent with key, value, and modification type.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-06T05:39:09.163270240Z","created_by":"ubuntu","updated_at":"2026-02-06T06:49:31.816140986Z","closed_at":"2026-02-06T06:49:31.816115672Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-u88","depends_on_id":"bd-28c","type":"blocks","created_at":"2026-02-06T05:39:39.790453450Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-ut0","title":"Use specific IntegrityError in test_db_schema.py pytest.raises","description":"Two pytest.raises(Exception) calls in tests/test_db_schema.py (lines 103 and 123) should use aiosqlite.IntegrityError instead of generic Exception. The comments already note this. Add 'import aiosqlite' and fix both calls. PR comment: Gemini lines 103 and 123 of test_db_schema.py.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-10T17:42:13.362804490Z","created_by":"ubuntu","updated_at":"2026-02-10T18:25:33.687618737Z","closed_at":"2026-02-10T18:25:33.687596109Z","close_reason":"Completed","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-vfs","title":"Database layer with SQLite","description":"Create the database module: async SQLite access via aiosqlite, schema creation/migration for factoids table (key, value, type is/are, created_at, updated_at, source). WAL mode enabled. Connection management suitable for both local dev and Modal Volumes.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T05:38:56.404005994Z","created_by":"ubuntu","updated_at":"2026-02-06T06:33:01.607379869Z","closed_at":"2026-02-06T06:33:01.607351303Z","close_reason":"Completed: database layer with SQLite, WAL mode, schema management, and full test coverage","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-vfs","depends_on_id":"bd-25b","type":"blocks","created_at":"2026-02-06T05:39:39.668063484Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-vfs","depends_on_id":"bd-28c","type":"blocks","created_at":"2026-02-06T05:39:39.642405420Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
{"id":"bd-zlm","title":"Rewrite Modal deployment to use Discord Interactions API","description":"Owner (kcaswick) says the current Modal deployment is fundamentally wrong. It runs a long-lived discord.py bot inside a Modal function, but Modal is serverless - the bot must use Discord's Interactions API (HTTP endpoint) instead of a persistent WebSocket connection. Also: (1) use pip_install_from_pyproject instead of repeating deps, (2) modal package is not in pyproject.toml, (3) copy_local_file is used on a directory (should be copy_local_dir or proper packaging), (4) LOG_LEVEL is hard-coded to INFO. This is a significant rewrite of src/modal.py. PR comments: kcaswick lines 31, 12, 43; Copilot lines 35, 69.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T17:41:45.291856228Z","created_by":"ubuntu","updated_at":"2026-02-10T18:29:58.290557276Z","closed_at":"2026-02-10T18:29:58.290523456Z","close_reason":"Complete: Rewrote Modal deployment to use Discord Interactions API (HTTP webhooks) instead of Gateway API (WebSocket). All PR review issues addressed.","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-zq2","title":"Test infrastructure and initial test suite","description":"Set up pytest fixtures, conftest.py with shared test database, LLM mock (returns canned responses). Write unit tests for factoid model, question parser, intent detector, response formatter. Aim for >80% coverage on Phase 1 modules.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T05:39:28.347310869Z","created_by":"ubuntu","updated_at":"2026-02-07T00:07:30.097298950Z","closed_at":"2026-02-07T00:07:30.097269052Z","close_reason":"Complete: 77 tests passing, 97% Phase 1 coverage, shared fixtures in conftest.py","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-zq2","depends_on_id":"bd-1cg","type":"blocks","created_at":"2026-02-06T05:39:40.151070530Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-zq2","depends_on_id":"bd-6lc","type":"blocks","created_at":"2026-02-06T05:39:40.073850036Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-zq2","depends_on_id":"bd-qrv","type":"blocks","created_at":"2026-02-06T05:39:40.100206325Z","created_by":"ubuntu","metadata":"{}","thread_id":""},{"issue_id":"bd-zq2","depends_on_id":"bd-u88","type":"blocks","created_at":"2026-02-06T05:39:40.125344865Z","created_by":"ubuntu","metadata":"{}","thread_id":""}]}
